<!DOCTYPE html>
<html lang="it">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Summer 25</title>
	<link rel="stylesheet" id="main-css" href="style.css">
	<link rel="stylesheet" id="help-css" href="help/help.css">
</head>

<body id="the-body" style="opacity:0">

	<!-- <button class="btn-fullscreen fs-open">ðŸ—–</button>
	<button class="btn-fullscreen fs-close">ðŸ——</button> -->
	<div class="container">



		<h1>Summer 25</h1>
		<!-- <p class="no-fullscreen">A Phase Vocoder interpolation lab.</p> -->



		<div class="left-panel">

			<div class="controls">
				<button id="btn-pause" class="play"><kbd>P</kbd> <span id="btn-pause-text">play</span></button>
			</div>

			<div class="control-group">
				<!-- <label>Ampl</label> -->
				<div class="volume">ðŸ•©</div>
				<input type="range" par="amp" min="-36" max="36" value="0" step=".5" list="amp-ticks">
				<div class="volume">ðŸ•ª</div>
				<datalist id="amp-ticks">
					<option value="-36"></option>
					<option value="-24"></option>
					<option value="-12"></option>
					<option value="0"></option>
					<option value="12"></option>
					<option value="24"></option>
					<option value="36"></option>
				</datalist>
				<div id="amp-value">0.0 dB</div>
			</div>

			<div id="preset-area" class="file-input draggable no-fullscreen"
				title="you can drag&drop here&#13;your preset file (.s25)">
				<div class="row">
					<label>Preset</label>
					<button id="load-preset" title="">ðŸ’¾ load</button>
					<button id="save-preset" title="">ðŸ’¾ save</button>
				</div>
				<div class="row" style="position:relative;">
					<div class="name" style="flex:1;text-align: left;"></div>
				</div>
			</div>


			<div class="file-input wx draggable no-fullscreen" title="you can drag&drop here&#13;your X wave file">
				<div class="row">
					<label>X wave</label>
					<button id="load-x-wave" title="">ðŸ’¾ load</button>
				</div>
				<div class="row">
					<div class="name xwavename" style="flex:1;text-align: left;"></div>
				</div>
			</div>


			<div class="file-input wy draggable no-fullscreen" title="you can drag&drop here&#13;your Y wave file">
				<div class="row">
					<label>Y wave</label>
					<button id="load-y-wave" title="">ðŸ’¾ load</button>
				</div>
				<div class="row">
					<div class="name ywavename" style="flex:1;text-align: left;"></div>
				</div>
			</div>


			<div class="file-input altro no-fullscreen">

				<div class="control-group">
					<label>Combine mode</label>
					<select id="merge-mode" par="merge-mode" isString>
						<!-- <option selected value="mix">mix(X, Y)</option>
						<option value="min">min(X, Y)</option>
						<option value="max">max(X, Y)</option>
						<option value="diff">|X-Y|</option>
						<option value="mul">X*Y</option>

						<option value="dxmix">mix(Î´X, Y)</option>
						<option value="dymix">mix(X, Î´Y)</option>
						<option value="dxdymix">mix(Î´X, Î´Y)</option>

						<option value="dxmul">Î´X*Y</option>
						<option value="dymul">X*Î´Y</option>
						<option value="dxdymul">Î´X*Î´Y</option>

						<option value="xcy">X * contour(Y)</option>
						<option value="cxy">Y * contour(X)</option> -->
					</select>
				</div>

				<div class="control-group">
					<label style="font-weight: normal;">mix</label>
					<div class="side-label">X</div>
					<input type="range" par="merge-mix" min="0" max="1" value=".5" step=".01" list="merge-mix-ticks">
					<div class="side-label">Y</div>
					<datalist id="merge-mix-ticks">
						<option value="0"></option>
						<option value=".25"></option>
						<option value=".5"></option>
						<option value=".75"></option>
						<option value="1"></option>
					</datalist>
				</div>

				<div class="control-group res-group">
					<label style="font-weight: normal;">resolution</label>
					<div class="side-label">lo</div>
					<input type="range" par="contourResolution" min="0" max="1" value=".5" step=".01"
						list="merge-mix-ticks">
					<div class="side-label">hi</div>
				</div>
			</div>
		</div>

		<div class="meters no-fullscreen">
			<div class="meter file-input">
				<canvas class="cx"></canvas>
			</div>
			<div class="meter file-input">
				<canvas class="cy"></canvas>
			</div>
			<div class="meter file-input">
				<canvas class="cxy"></canvas>
			</div>
		</div>

		<div class="controls recorder-controls">
			<div class="buttons">
				<button id="btn-rec" class="rec"><kbd>R</kbd> <span>record</span></button>
				<button id="rec-clear" class="rec">clear</button>
				<button id="rec-to-x" class="rec">to X</button>
				<button id="rec-to-y" class="rec">to Y</button>
				<button id="rec-save" class="rec">ðŸ’¾ save</button>
			</div>
			<canvas id="show-recorder"></canvas>
		</div>


	</div>

	<div class="panel">
		<div class="panel-controls no-fullscreen">
			<!-- <button id="btn-move-left">Move Left</button>
			<button id="btn-move-right">Move Right</button> -->

			<!-- <button class="padmode amp" data-mode="amp">[A] amp</button>-->
			<button class="padmode pos on" data-mode="drag"><kbd>D</kbd> drag</button>
			<!-- <button class="padmode speed" data-mode="speed">[S] speed</button> -->
			<button class="padmode motion" data-mode="motion"><kbd>M</kbd> motion</button>
			<button class="padmode motion" data-mode="effects"><kbd>E</kbd> effects</button>
			<button class="padmode motion" data-mode="help"><kbd>F1</kbd> help</button>
			<!-- <button class="padmode settings" data-mode="settings"><kbd>S</kbd> settings</button> -->
		</div>

		<div class="pad-area">

			<div class="canvas-container">
				<div class="motion-controls subpanel hideable no-fullscreen">
					<div class="content">
						<h3>Manual</h3>
						<div class="control-group">
							<label class="indent">traction</label>
							<input type="range" par="traction" min="0" max="1" value=".7" step=".005">
							<span class="spaceright"></span>
							<input type="hidden" par="targetx" value="0">
							<input type="hidden" par="targety" value="0">
						</div>
						<div class="vspace" style="height: 25px;">&nbsp;</div>
						<h3>Linear <input type="checkbox" checked class="enable-feature linear" dest="enable-linear"
								isBoolean>
						</h3>
						<input type="hidden" par="enable-linear" value="true" isBoolean>

						<div class="lfoshape">
							<div class="control-group">
								<label class="indent">X speed</label>
								<input type="range" min="-1" max="1" value="0" step=".0001" par="speedx"
									list="lin-speed-list">
								<datalist id="lin-speed-list">
									<option value="-1"></option>
									<option value="-.9095"></option>
									<option value="-.7957"></option>
									<option value="-.6337"></option>
									<option value="-.5050"></option>
									<option value="0"></option>
									<option value=".5050"></option> <!-- k=.25 =>  .01+.99*Math.pow(k/2, 1/3)-->
									<option value=".6337"></option> <!-- k=.5 =>  .01+.99*Math.pow(k/2, 1/3)-->
									<option value=".7957"></option> <!-- k=1 =>  .01+.99*Math.pow(k/2, 1/3)-->
									<option value=".9095"></option> <!-- k=1.5 =>  .01+.99*Math.pow(k/2, 1/3)-->
									<option value="1"></option>
								</datalist>
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">Y speed</label>
								<input type="range" min="-1" max="1" value="0" step=".0001" par="speedy"
									list="lin-speed-list">
								<span class="spaceright"></span>
							</div>
							<canvas id="lin-shape-canvas"></canvas>

						</div>

						<h3>Cyclic <input type="checkbox" checked class="enable-feature cyclic" dest="enable-cyclic"
								isBoolean>
						</h3>
						<input type="hidden" par="enable-cyclic" value="true" isBoolean>

						<div class="lfoshape">
							<div class="control-group">
								<label class="indent">Speed</label>
								<input type="range" min="0" max="1" value=".3" step=".001" par="lfofreq">
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">Speed mult</label>
								<select par="speedmultx">
								</select>
								<select par="speedmulty" style="margin-left: 20px">
								</select>
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">X Ampl</label>
								<input type="range" id="xlfo-amp" min="0" max="1" value="0" step=".005" par="lfoxamp">
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">Y Ampl</label>
								<input type="range" id="xlfo-amp" min="0" max="1" value="0" step=".005" par="lfoyamp">
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">Shape</label>
								<select id="lfo-shape" par="lfowave">
									<option value="0" selected>sine</option>
									<!-- <option value="1">cosine</option> -->
									<option value="2">triangle</option>
									<option value="3">saw up</option>
									<option value="4">saw down</option>
									<option value="5">square</option>
								</select>
								<span class="spaceright"></span>
							</div>
							<!-- <div class="control-group">
								<label class="indent">Y shape</label>
								<select par="ylfowave">
									<option value="0">sine</option>
									<option value="1" selected>cosine</option>
									<option value="2">triangle</option>
									<option value="3">saw up</option>
									<option value="4">saw down</option>
									<option value="5">square</option>
								</select>
							</div> -->
							<!-- <div class="control-group">
								<label class="indent">Y/X freq ratio</label>
								<select par="lforatio">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value=".5">1/2</option>
									<option value=".3333">1/3</option>
									<option value=".25">1/4</option>
									<option value=".6666667">2/3</option>
									<option value="1.5">3/2</option>
									<option value="1.3333333">4/3</option>
									<option value=".75">3/4</option>
								</select>
							</div> -->
							<div class="control-group">
								<label class="indent">Phase shift</label>
								<input type="range" min="0" max="3.141592" value="0" step=".005" par="lfodeltaph">
								<span class="spaceright"></span>
							</div>
							<div class="control-group">
								<label class="indent">steps</label>
								<select par="steps">
									<option value="0">free run</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
								</select>
								<span class="spaceright"></span>
							</div>

							<canvas id="lfo-shape-canvas"></canvas>
						</div>


					</div>
				</div>

				<div class="effects-controls subpanel hideable no-fullscreen">
					<div class="content">
						<h3>Transpose
							<input type="checkbox" checked class="enable-feature transpose" dest="enable-transpose"
								isBoolean>
						</h3>
						<input type="hidden" par="enable-transpose" value="true" isBoolean>
						<div class="control-group">
							<label>X</label>
							<input type="range" par="transposeX" min="-12" max="12" value="0" step="0.05" list="transpose-values">
							<span class="text" id="transpose-x-value"></span>
						</div>
						<div class="control-group">
							<label>Y</label>
							<input type="range" par="transposeY" min="-12" max="12" value="0" step="0.05" list="transpose-values">
							<span class="text" id="transpose-y-value"></span>
						</div>
						<div class="control-group">
							<label>Out</label>
							<input type="range" par="transposeM" min="-12" max="12" value="0" step="0.05" list="transpose-values">
							<span class="text" id="transpose-m-value"></span>
						</div>

						<datalist id="transpose-values">
							<option value="-12" label="-12"></option>
							<option value="0" label="0"></option>
							<option value="12" label="12"></option>
						</datalist>
						<h3>Delay
							<input type="checkbox" checked class="enable-feature delay" dest="enable-delay" isBoolean>
						</h3>
						<input type="hidden" par="enable-delay" value="true" isBoolean>


						<div class="control-group">
							<label>Delay mode</label>
							<input type="radio" name="delay-mode" value="1" checked style="margin-left: 0px"> Parallel
							<input type="radio" name="delay-mode" value="2"> Pong L => R
							<input type="radio" name="delay-mode" value="3"> Pong R => L
							<input type="hidden" par="delay-mode" value="2">
						</div>
						<div class="control-group">
							<label>Left Delay</label>
							<input type="range" par="ldelay" min="0" max="1" value=".35" step="0.005">
							<span class="text" id="left-delay-value"></span>
						</div>
						<div class="control-group">
							<label>Right Delay</label>
							<input type="range" par="rdelay" min="0" max="1" value=".4" step="0.005">
							<span class="text" id="right-delay-value"></span>
						</div>
						<div class="control-group">
							<label>Feedback</label>
							<input type="range" par="feedback" min="0" max="1" value="0" step="0.005">
							<span class="text" id="delay-feedback-value"></span>
						</div>
						<div class="control-group">
							<label>HF Dump</label>
							<input type="range" par="lopass" min="0" max="1" value=".95" step="0.005">
							<span class="text" id="delay-lopass-value"></span>
						</div>
						<div class="control-group">
							<label>Dry-Wet Balance</label>
							<input type="range" par="delmix" min="0" max="1" value="0" step="0.005">
							<span class="text" id="delay-mix-value"></span>
						</div>

						<h3>Reverb
							<input type="checkbox" checked class="enable-feature reverb" dest="enable-reverb" isBoolean>
						</h3>
						<input type="hidden" par="enable-reverb" value="true" isBoolean>
						<div class="control-group">
							<label>Rev Type</label>
							<select par="revtype" isString></select>
						</div>
						<div class="control-group">
							<label>Dry-Wet</label>
							<input type="range" par="revsend" min="-36" max="0" value="-36" step="0.5">
							<span class="text" id="reverb-value"></span>
						</div>

					</div>

				</div>

				
				<div class="spectre-controls subpanel hideable no-fullscreen">
					<div class="content">

					</div>

				</div>

				<div class="help-on-line subpanel hideable">
					<div class="content" lang="eng">
					</div>
				</div>

				<div id="top-drop-bar" class="drop-wave-bar draggable"
					title="you can drag&drop here&#13;your X wave file">
				</div>

				<div id="left-drop-bar" class="drop-wave-bar draggable"
					title="you can drag&drop here&#13;your Y wave file">
				</div>
			</div>
		</div>
	</div>

	<div id="modal-load-wave" class="modal draggable">
		You can
		<ul>
			<li>
				select a demo wave here
				<select id="select-wave">
				</select>
			</li>
			<li>
				load one from disk by clicking <button id="load-x-wave">ðŸ’¾ load</button>
			</li>
			<li>
				drag&drop your file in this area
			</li>
		</ul>
	</div>


	<div id="modal-load-preset" class="modal draggable">
		You can
		<ul>
			<li>
				select a demo preset here
				<select id="select-preset">
				</select>
			</li>
			<li>
				load a preset from disk by clicking <button id="load-preset-button">ðŸ’¾ load</button>
			</li>
			<li>
				drag&drop your file in this area
			</li>
		</ul>
	</div>

	<pre class="debug-monitor hidden"></pre>

	<!-- Spinner overlay -->
	<div id="spinner-overlay" style="display: none;">
		<div class="spinner-container">
			<div class="spinner"></div>
		</div>
	</div>

	<div class="preset-list hidden">
		<h3 style="padding-left:20px">Summer25 preset list</h3>
		<ul></ul>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="fft.js"></script>
	<script src="common.js"></script>
	<script src="main.js"></script>
	<script src="mousepad.js"></script>
	<script src="record.js"></script>
	<script src="reverb.js"></script>
	<script src="spectre-canvas.js"></script>

</body>

</html>